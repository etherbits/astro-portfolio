import{_ as p}from"./hoisted.8704b996.js";import{b as i,p as u,A as m,M as d}from"./_astro_assets.e487c972.js";import"./hoisted.c2b586f0.js";let s;const f={low:25,mid:50,high:80,max:100};async function c(){let a;try{a=(await p(()=>import("./index.c67fa06c.js").then(e=>e.i),[])).default}catch{throw new m(d)}return a}const g={validateOptions:i.validateOptions,getURL:i.getURL,parseURL:i.parseURL,getHTMLAttributes:i.getHTMLAttributes,async transform(a,e){s||(s=await c());const t=e;if(t.format==="svg")return{data:a,format:"svg"};let r=s(a,{failOnError:!1,pages:-1});if(r.rotate(),t.height&&!t.width?r.resize({height:t.height}):t.width&&r.resize({width:t.width}),t.format){let o;if(t.quality){const l=u(t.quality);typeof l=="number"?o=l:o=t.quality in f?f[t.quality]:void 0}r.toFormat(t.format,{quality:o})}const{data:h,info:n}=await r.toBuffer({resolveWithObject:!0});return{data:h,format:n.format}}};var _=g;export{_ as default};
