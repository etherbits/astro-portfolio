---
import Button from "../../components/Button.astro";
import Layout from "../../layouts/Layout.astro";
import OutlineText from "../../components/OutlineText.astro";
import RectLinks from "../../components/RectLinks.astro";
import Waves from "../../components/Waves.astro";
import { getLangFromUrl, generateTranslator } from "../../i18n/utils";
import Link from "../../components/Link.astro";
import { languages } from "../../i18n/ui";
import { Image } from "astro:assets";

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => {
    const obj = {
      params: {
        lang: lang,
      },
    };
    return obj;
  });
}

const lang = getLangFromUrl(Astro.url);
const t = generateTranslator(lang!);
---

<Layout title="Portfolio: Nika Qvrivishvili">
  <link
    slot="head"
    rel="preload"
    href="https://avatars.githubusercontent.com/u/43289097?s=160&v=4"
    as="image"
  />
  <main
    class="flex max-w-full flex-col items-center animate-appear justify-center text-center mb-auto tall:mt-[3vh] taller:mt-[7vh]"
  >
    <Image
      src="https://avatars.githubusercontent.com/u/43289097?s=160&v=4"
      width={160}
      height={160}
      alt="profile"
      class="mb-8 h-24 w-24 sm:h-28 sm:w-28 md:h-32 md:w-32 lg:h-36 lg:w-36 rounded-full"
    />
    <p class="mb-4 text-2xl text-slate-200 sm:text-clamp-4xl">
      {t("home.greet_start")}
      <span class="text-blue-200">{t("home.greet_name")}</span>
      {t("home.greet_end")}
    </p>
    <OutlineText>{t("home.profession")}</OutlineText>
    <p
      class="mb-10 tall:mb-12 mt-6 max-w-[320px] text-lg break-none hyphens-auto sm:hyphens-none leading-9 text-slate-300
        sm:max-w-clamp-xs sm:text-clamp-lg"
    >
      {t("home.skill_paragraph")}
    </p>
    <Link href="/projects" class="mb-11">
      <Button>{t("home.nav_button")}</Button>
    </Link>
  </main>
  <RectLinks />
  <Waves
    type="homeRight"
    class="bottom-0 right-0 h-[37%] md:h-[70%] w-[72%] translate-x-[35%] translate-y-[12%] 2xl:h-[86%]"
  />
  <Waves
    type="homeLeft"
    class="bottom-0 left-0 h-[20%] md:h-[43%] w-[49%] translate-x-[-27%] translate-y-[24%] 2xl:h-[52%]"
  />
</Layout>
